# 의사결정 기록

## TL;DR (10줄 이내)
- 중요한 결정만 기록한다.  
- 최신 항목을 상단에 둔다.  
- 상세 ADR이 필요하면 `docs/architecture/adr/`에 추가한다.  

## 사용
- 레벨: L1 (작업 재개/의사결정 확인 시)  
- 읽기: 설계/기술 결정을 확인해야 할 때.  
- 갱신: 새로운 의사결정이 발생했을 때.  

### 2026-02-28 - 토큰 가드 임계치 상향 및 2단계 정리 정책 (상태: 승인됨)
- 맥락: 프로젝트가 진행될수록 문서량이 자연스럽게 증가하므로 기존 임계치(12000/30000)는 운영에 맞지 않다.
- 결정: 기본 토큰 가드를 예산 40000, 경고선 30000으로 설정하고 2단계 정리 정책을 적용한다.
- 대안: 낮은 임계치를 유지하고 자주 축약 수행.
- 결과: 불필요한 조기 경고를 줄이고, 실제 과다 구간에서만 정밀 정리를 수행한다.
- 영향 범위: `scripts/doc_token_guard.py`, `starter.md`, `docs/README.md`, `docs/session/*`, `docs/dev/*`
- 후속 작업: 프로젝트 성장 추이에 따라 환경 변수(`DOC_TOKEN_BUDGET`, `DOC_TOKEN_WARN_RATIO`)로 단계별 조정.

### 2026-02-28 - 문서 품질 게이트 강제 (상태: 승인됨)
- 맥락: 문서 기반 운영에서 중복/누락/플레이스홀더가 누적되면 세션 복귀 품질이 급격히 저하된다.
- 결정: 문서 업데이트 완료 조건에 `python3 scripts/check_docs.py` 통과를 포함한다.
- 대안: 사람 리뷰만으로 문서 품질을 관리.
- 결과: 반복 가능한 최소 품질 기준을 자동 검사로 유지할 수 있다.
- 영향 범위: `starter.md`, `docs/README.md`, `docs/session/*`, `docs/dev/*`, `.githooks/pre-commit`, `scripts/check_docs.py`
- 후속 작업: 필요 시 `check_docs.py` 규칙을 프로젝트 운영 방식에 맞게 확장.

### 2026-02-28 - 주제 미정 단계 구조 우선 정책 (상태: 승인됨)
- 맥락: 프로젝트 주제가 확정되기 전에는 코드 방향이 자주 바뀌어 유지보수성이 쉽게 악화된다.
- 결정: 주제 확정 전에는 비즈니스 구현보다 구조/경계/검사 자동화를 우선한다.
- 대안: 도메인 가정을 먼저 코드로 구현하고 나중에 구조를 정리하는 방식.
- 결과: 세션 복귀 속도와 일관성이 향상되고, 이후 기능 추가 시 리팩터링 비용이 감소한다.
- 영향 범위: `starter.md`, `docs/README.md`, `docs/session/*`, `docs/project/*`, `scripts/check_arch.py`, `src/*`, `tests/*`
- 후속 작업: 도메인 확정 즉시 `docs/specs/feature-*.md`를 작성하고 명세 기반 구현으로 전환.

## 템플릿
### YYYY-MM-DD - 제목 (상태: 제안됨 | 승인됨 | 거부됨 | 변경됨)
- 맥락:  
- 결정:  
- 대안:  
- 결과:  
- 영향 범위:  
- 후속 작업:  
